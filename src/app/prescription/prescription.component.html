<!-- view-prescription.component.html -->

<section class="prescription">
  <div class="container mt-3">
    <!-- Error Message -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <!-- No Prescription Found Message -->
    <div *ngIf="noPrescriptionFound && !errorMessage" class="alert alert-warning">
      No prescription found.
    </div>

    <!-- Prescription Details -->
    <div *ngIf="prescription && !errorMessage" class="card mt-4">
      <div class="card-header">
        <h4>Prescription Details</h4>
      </div>
      <div class="card-body">
        <p><strong>Appointment ID:</strong> {{ prescription.aid }}</p>
        <p><strong>Patient ID:</strong> {{ prescription.patientid }}</p>
        <p><strong>Doctor ID:</strong> {{ prescription.doctorid }}</p>
        <p><strong>Date:</strong> {{ prescription.date | date: 'mediumDate' }}</p>
        
        <!-- Medicines Table -->
        <h5 class="mt-4">Medicines</h5>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Name</th>
              <th>Tablet Count</th>
              <th>Morning</th>
              <th>Afternoon</th>
              <th>Night</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let med of prescription.medicine">
              <td>{{ med.name }}</td>
              <td>{{ med.tabletCount }}</td>
              <td>{{ med.morning ? 'Yes' : 'No' }}</td>
              <td>{{ med.afternoon ? 'Yes' : 'No' }}</td>
              <td>{{ med.night ? 'Yes' : 'No' }}</td>
            </tr>
          </tbody>
        </table>
        
        <!-- Back to Home Button -->
        <button class="btn btn-secondary mt-3" RouterLink="/home">
          <i class="fas fa-home"></i> Back to Home
        </button>
      </div>
    </div> 
  </div>


<router-outlet></router-outlet>
</section>
